program: /home/er647/projects/feature-wise-active-learning/src/run_experiment.py # Path to the program to run
entity: evangeorgerex
project: fwal # Project name

name: fact_tune_repeat

command:
- ${env}
- ${interpreter}
- ${program}
- --evaluate_feature_selection
- --test_time_interventions 
- evaluate_test_time_interventions
- --hierarchical
- --pretrain
- --num_pretrain_steps
- 5000
- --hpc_run
- --num_workers
- 1 # optimal for HPC
- --tags
- ef44f76f # FWAL hierarchical TTI all datasets
- --notes
- "ef44f76f fact, tuning our model on madelon. Evaluating TTI. Evaluating feature selection."
- --patience_early_stopping
- 500
- ${args}

method: grid
parameters:
  dataset:
    distribution: categorical
    values:
    # - poly_binarised_decimalised_synth
    # - mice_protein
    # - COIL20 
    - Isolet
    - madelon
    # - USPS
    # - PBMC
    # - finance

  sparsity_regularizer_hyperparam:
    distribution: categorical
    values:
    - 0.1
    - 1.0
    - 10.0
    
  lr:
    distribution: categorical
    values:
    - 3e-3
    - 1e-3
    - 3e-4
    - 1e-4
  
  num_hidden:
    distribution: categorical
    values:
    - 4
    - 2

  dropout_rate:
    distribution: categorical
    values:
    - 0.0
    - 0.1
    - 0.2
    - 0.4


  seed_model_init:  # number of folds
    distribution: categorical
    values:
    - 0
    - 1
    - 2
    - 3
    - 4
